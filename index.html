<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Solutions en automatisme et instrumentation pour l’industrie : conception, fourniture, installation, formation et maintenance.">
    <meta name="keywords" content="automatisme, instrumentation, PLC, SCADA, IEC 61131, maintenance, formation, industrie">
    <meta name="author" content="AutoTech Solutions">
    <title>AutoTech Solutions - Expert en Automatisme & Instrumentation</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <style>
        * { box-sizing: border-box; margin: 0; padding: 0; }
        body {
            font-family: Arial, sans-serif;
            line-height: 1.6;
            color: #333333;
            background: #F5F5F5;
        }
        header {
            background: #0A1F44;
            color: #FFFFFF;
            text-align: center;
            padding: 4em 1em;
            min-height: 60vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            position: relative;
        }
        header h1 { font-size: 2.5em; margin-bottom: 0.5em; }
        header p { font-size: 1.2em; margin-bottom: 1em; }
        header a {
            background: #00B2FF;
            color: #FFFFFF;
            padding: 0.75em 1.5em;
            text-decoration: none;
            border-radius: 4px;
            transition: background 0.3s, transform 0.3s;
        }
        header a:hover { background: #FF8C00; transform: scale(1.05); }
        nav {
            background: #0A1F44;
            padding: 1em;
            position: sticky;
            top: 0;
            z-index: 100;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
        }
        .nav-item {
            position: relative;
        }
        nav a, .dropdown a {
            color: #FFFFFF;
            text-decoration: none;
            margin: 0 1.5em;
            font-weight: bold;
            position: relative;
        }
        nav a i { margin-right: 0.5em; }
        nav a::after {
            content: '';
            position: absolute;
            width: 0;
            height: 2px;
            bottom: -2px;
            left: 0;
            background: #00B2FF;
            transition: width 0.3s;
        }
        nav a:hover { color: #00B2FF; }
        nav a:hover::after { width: 100%; }
        .dropdown {
            display: none;
            position: absolute;
            background: #0A1F44;
            min-width: 200px;
            z-index: 101;
            top: 100%;
            left: 0;
            border-radius: 4px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.2);
        }
        .nav-item:hover .dropdown { display: block; }
        .nav-item[aria-expanded="true"] .dropdown { display: block; }
        .dropdown a {
            display: block;
            padding: 0.5em 1em;
            margin: 0;
            transition: background 0.3s, color 0.3s;
        }
        .dropdown a:hover {
            color: #00B2FF;
            background: #FF8C00;
        }
        .dropdown-item.active {
            color: #28A745;
        }
        .dropdown-item.active::after {
            width: 100%;
            background: #28A745;
        }
        section {
            padding: 2em;
            max-width: 1000px;
            margin: 0 auto;
            background: #FFFFFF;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            margin-bottom: 2em;
        }
        #services {
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 3em;
        }
        h2 {
            color: #0A1F44;
            margin-bottom: 1em;
            text-transform: uppercase;
        }
        h3 {
            color: #0A1F44;
            margin-top: 1em;
            transition: transform 0.3s, color 0.3s;
        }
        h3:hover {
            transform: translateY(-5px);
            color: #FFC300;
        }
        .selected-service-container {
            display: none;
            flex-direction: column;
            gap: 1.5em;
            margin-top: 2em;
            width: 100%;
            max-width: 1000px;
            align-items: center;
        }
        .selected-service-container.active {
            display: flex;
        }
        .selected-service-container .service-card {
            width: 100%;
            max-width: 700px;
        }
        .selected-service-container .services-content {
            width: 100%;
            opacity: 1;
            transform: translateY(0);
        }
        .services-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 1em;
            max-width: 600px;
            margin: 0 auto 2em auto;
        }
        .service-card {
            background: #0A1F44;
            padding: 0.5em;
            border-radius: 8px;
            text-align: center;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            transition: transform 0.3s, background 0.3s, width 0.3s ease;
            animation: fadeInUp 0.5s ease-out;
            animation-fill-mode: both;
            cursor: pointer;
            width: 100%;
        }
        .service-card:focus {
            outline: 2px solid #00B2FF;
            outline-offset: 2px;
        }
        .service-card i {
            font-size: 1.5em;
            margin-bottom: 0.3em;
            color: #FFFFFF;
            transition: transform 0.3s;
        }
        .service-card h3 {
            color: #FFFFFF;
            font-size: 1em;
            margin-bottom: 0.3em;
        }
        .service-card p {
            color: #FFFFFF;
            font-size: 0.8em;
        }
        .service-card:hover {
            transform: translateY(-5px);
            background: #FF8C00;
            box-shadow: 0 4px 12px rgba(255,195,0,0.3);
        }
        .service-card:hover i {
            transform: rotate(360deg);
        }
        .service-card.active {
            background: #FF8C00;
            box-shadow: 0 4px 12px rgba(0,0,0,0.3);
            transform: translateY(-5px);
        }
        .service-card:nth-child(1) { animation-delay: 0.1s; }
        .service-card:nth-child(2) { animation-delay: 0.2s; }
        .service-card:nth-child(3) { animation-delay: 0.3s; }
        .service-card:nth-child(4) { animation-delay: 0.4s; }
        .service-card:nth-child(5) { animation-delay: 0.5s; }
        .last-card {
            grid-column: span 2;
            justify-self: center;
            width: 50%;
        }
        .services-content {
            display: none;
            width: 100%;
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 0.6s ease-in-out, transform 0.6s ease-in-out;
            padding: 1em 0;
        }
        .services-content.active {
            display: block;
            opacity: 1;
            transform: translateY(0);
        }
        .services-content .services-grid {
            display: flex;
            flex-direction: row;
            justify-content: center; /* Centrer les sous-services */
            overflow-x: auto;
            gap: 1em;
            max-width: none;
            margin: 0;
            padding: 0.5em 0;
        }
        .services-content .services-grid::-webkit-scrollbar {
            height: 8px;
        }
        .services-content .services-grid::-webkit-scrollbar-thumb {
            background: #00B2FF;
            border-radius: 4px;
        }
        .services-content .services-grid::-webkit-scrollbar-track {
            background: #F5F5F5;
        }
        .service {
            background: #FFFFFF;
            border: 1px solid #F5F5F5;
            padding: 1em;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
            text-align: center;
            transition: transform 0.3s, box-shadow 0.3s;
            animation: slideUp 0.5s ease-out;
            cursor: pointer;
            flex: 0 0 250px;
        }
        .service:focus {
            outline: 2px solid #00B2FF;
            outline-offset: 2px;
        }
        .service:hover {
            transform: scale(1.05);
            box-shadow: 0 4px 12px rgba(255,195,0,0.3);
        }
        .service i {
            color: #00B2FF;
            font-size: 2em;
            margin-bottom: 0.5em;
            transition: color 0.3s;
        }
        .service:hover i { color: #FFC300; }
        .service p {
            color: #333333;
            font-size: 0.9em;
            margin-top: 0.5em;
        }
        .modal {
            display: none;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) scale(0.8);
            background: #FFFFFF;
            padding: 1.5em;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
            z-index: 1000;
            max-width: 90%;
            width: 450px;
            opacity: 0;
            transition: transform 0.4s ease-in-out, opacity 0.4s ease-in-out;
        }
        .modal.active {
            display: block;
            transform: translate(-50%, -50%) scale(1);
            opacity: 1;
        }
        .modal h4 {
            color: #0A1F44;
            margin-bottom: 1em;
            font-size: 1.2em;
        }
        .modal p {
            color: #333333;
            font-size: 0.9em;
        }
        .modal-close {
            position: absolute;
            top: 10px;
            right: 10px;
            background: none;
            border: none;
            font-size: 1.2em;
            cursor: pointer;
            color: #0A1F44;
        }
        .modal-close:focus {
            outline: 2px solid #00B2FF;
            outline-offset: 2px;
        }
        .overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            z-index: 999;
            opacity: 0;
            transition: opacity 0.4s ease-in-out;
        }
        .overlay.active {
            display: block;
            opacity: 1;
        }
        .industries-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 1em;
            margin-top: 1em;
        }
        .industry-card {
            background: #F5F5F5;
            padding: 1em;
            border-radius: 8px;
            text-align: center;
            transition: transform 0.3s, background 0.3s, color 0.3s;
            animation: fadeInUp 0.5s ease-out;
            animation-fill-mode: both;
        }
        .industry-card i {
            font-size: 1.5em;
            color: #0A1F44;
            margin-bottom: 0.5em;
            transition: transform 0.3s, color 0.3s;
        }
        .industry-card p {
            margin: 0;
            color: #333333;
        }
        .industry-card:hover {
            transform: translateY(-5px);
            background: #00B2FF;
            color: #FFFFFF;
            box-shadow: 0 4px 12px rgba(255,195,0,0.3);
        }
        .industry-card:hover i {
            color: #FFFFFF;
            transform: rotate(360deg);
        }
        .industry-card:nth-child(1) { animation-delay: 0.1s; }
        .industry-card:nth-child(2) { animation-delay: 0.2s; }
        .industry-card:nth-child(3) { animation-delay: 0.3s; }
        .industry-card:nth-child(4) { animation-delay: 0.4s; }
        .industry-card:nth-child(5) { animation-delay: 0.5s; }
        .industry-card:nth-child(6) { animation-delay: 0.6s; }
        .industry-card:nth-child(7) { animation-delay: 0.7s; }
        .industry-card:nth-child(8) { animation-delay: 0.8s; }
        footer {
            background: #0A1F44;
            color: #FFFFFF;
            text-align: center;
            padding: 1em;
        }
        .contact a {
            color: #00B2FF;
            text-decoration: none;
            transition: color 0.3s;
        }
        .contact a:hover { color: #FF8C00; }
        @keyframes fadeInUp {
            from { transform: translateY(20px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }
        @keyframes rotateIcon {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }
        @keyframes slideUp {
            from { transform: translateY(20px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }
        @media (max-width: 600px) {
            header h1 { font-size: 1.8em; }
            nav { flex-direction: column; align-items: center; }
            .nav-item { width: 100%; }
            nav a { display: block; margin: 0.5em 0; }
            .dropdown {
                position: static;
                display: none;
                background: #0A1F44;
                width: 100%;
            }
            .nav-item:hover .dropdown { display: block; }
            .nav-item[aria-expanded="true"] .dropdown { display: block; }
            .dropdown a { padding: 0.5em 1em; }
            .services-grid { grid-template-columns: 1fr; max-width: 100%; }
            .service-card { width: 80%; margin: 0 auto; }
            .last-card { grid-column: auto; width: 80%; }
            .services-content .services-grid { padding: 0.5em; }
            .service { flex: 0 0 200px; }
            .industries-grid { grid-template-columns: repeat(2, 1fr); }
            #services {
                min-height: auto;
                justify-content: flex-start;
                padding: 2em;
            }
            .modal {
                width: 90%;
                padding: 1.2em;
            }
        }
    </style>
</head>
<body>
    <header>
        <h1>AutoTech Solutions</h1>
        <p>Vos solutions pour l’industrie : fourniture, installation, formation, maintenance</p>
        <a href="#services" aria-label="Découvrir les services d'automatisme et d'instrumentation">Découvrir mes services</a>
    </header>
    <nav role="navigation" aria-label="Menu principal">
        <div class="nav-item" aria-haspopup="true" aria-expanded="false">
            <a href="#home" aria-label="Aller à la section Accueil"><i class="fas fa-home" aria-hidden="true"></i> Accueil</a>
        </div>
        <div class="nav-item" aria-haspopup="true" aria-expanded="false">
            <a href="#services" aria-label="Aller à la section Services"><i class="fas fa-tools" aria-hidden="true"></i> Services</a>
            <div class="dropdown">
                <a href="#etude-solution" class="dropdown-item active" data-tab="etude-solution">Étude et Solution</a>
                <a href="#fournitures" class="dropdown-item" data-tab="fournitures">Fournitures et Matériel</a>
                <a href="#installation" class="dropdown-item" data-tab="installation">Installation, Tests et Mise en Service</a>
                <a href="#formation" class="dropdown-item" data-tab="formation">Formation et Entraînement</a>
                <a href="#maintenance" class="dropdown-item" data-tab="maintenance">Maintenance</a>
            </div>
        </div>
        <div class="nav-item" aria-haspopup="true" aria-expanded="false">
            <a href="#about" aria-label="Aller à la section À propos"><i class="fas fa-user" aria-hidden="true"></i> À propos</a>
            <div class="dropdown">
                <a href="#qui-nous-sommes">Qui nous sommes</a>
                <a href="#industries">Industries que nous servons</a>
            </div>
        </div>
        <div class="nav-item" aria-haspopup="true" aria-expanded="false">
            <a href="#contact" aria-label="Aller à la section Contact"><i class="fas fa-envelope" aria-hidden="true"></i> Contact</a>
        </div>
    </nav>
    <section id="home">
        <h2>Accueil</h2>
        <p>Ingénieur automaticien passionné, je propose des solutions complètes pour l’industrie : de la fourniture de matériel à la mise en service, en passant par la formation et la maintenance. Cliquez ci-dessous pour explorer mes services.</p>
    </section>
    <section id="services">
        <h2>Services</h2>
        <div class="services-grid" id="services-grid">
            <div class="service-card active" data-tab="etude-solution" role="button" tabindex="0">
                <i class="fas fa-hammer" aria-hidden="true"></i>
                <h3>Étude et Solution</h3>
                <p>Conception, programmation et optimisation.</p>
            </div>
            <div class="service-card" data-tab="fournitures" role="button" tabindex="0">
                <i class="fas fa-box" aria-hidden="true"></i>
                <h3>Fournitures et Matériel</h3>
                <p>Équipements et logiciels industriels.</p>
            </div>
            <div class="service-card" data-tab="installation" role="button" tabindex="0">
                <i class="fas fa-tools" aria-hidden="true"></i>
                <h3>Installation et Mise en Service</h3>
                <p>Mise en place et validation.</p>
            </div>
            <div class="service-card" data-tab="formation" role="button" tabindex="0">
                <i class="fas fa-graduation-cap" aria-hidden="true"></i>
                <h3>Formation et Entraînement</h3>
                <p>Formations pour opérateurs et ingénieurs.</p>
            </div>
            <div class="service-card last-card" data-tab="maintenance" role="button" tabindex="0">
                <i class="fas fa-wrench" aria-hidden="true"></i>
                <h3>Maintenance</h3>
                <p>Entretien et calibrage.</p>
            </div>
        </div>
        <div class="selected-service-container" id="selected-service-container">
            <!-- La carte sélectionnée et ses sous-services seront insérés ici dynamiquement -->
        </div>
    </section>
    <section id="about">
        <h2>À propos</h2>
        <h3 id="qui-nous-sommes">Qui nous sommes</h3>
        <p>Nous sommes une entreprise spécialisée dans les solutions d’automatisme et d’instrumentation pour l’industrie. Nous offrons des services complets allant de la conception et la programmation à la mise en service, la maintenance, et la formation, en mettant l’accent sur l’innovation et la fiabilité.</p>
        <h3 id="industries">Industries que nous servons</h3>
        <div class="industries-grid">
            <div class="industry-card">
                <i class="fas fa-oil-can" aria-hidden="true"></i>
                <p>Pétrole et gaz</p>
            </div>
            <div class="industry-card">
                <i class="fas fa-bolt" aria-hidden="true"></i>
                <p>Énergie (électricité, renouvelables)</p>
            </div>
            <div class="industry-card">
                <i class="fas fa-car" aria-hidden="true"></i>
                <p>Automobile</p>
            </div>
            <div class="industry-card">
                <i class="fas fa-utensils" aria-hidden="true"></i>
                <p>Agroalimentaire</p>
            </div>
            <div class="industry-card">
                <i class="fas fa-capsules" aria-hidden="true"></i>
                <p>Pharmaceutique</p>
            </div>
            <div class="industry-card">
                <i class="fas fa-industry" aria-hidden="true"></i>
                <p>Fabrication industrielle</p>
            </div>
            <div class="industry-card">
                <i class="fas fa-hammer" aria-hidden="true"></i>
                <p>Industriel métallique</p>
            </div>
            <div class="industry-card">
                <i class="fas fa-robot" aria-hidden="true"></i>
                <p>Robotique</p>
            </div>
        </div>
    </section>
    <section id="contact">
        <h2>Contact</h2>
        <p>Contactez-moi : <a href="mailto:ton.email@example.com" aria-label="Envoyer un email à AutoTech Solutions">ton.email@example.com</a></p>
        <p>Téléphone : <a href="tel:+336XXXXXXXX" aria-label="Appeler AutoTech Solutions au +33 6 XX XX XX XX">+33 6 XX XX XX XX</a></p>
        <p>Ou via <a href="https://linkedin.com/in/tonprofil" target="_blank" aria-label="Visiter le profil LinkedIn d'AutoTech Solutions">LinkedIn</a></p>
    </section>
    <footer>
        <p>© 2025 - AutoTech Solutions</p>
    </footer>
    <div class="overlay" id="overlay" tabindex="-1"></div>
    <div class="modal" id="modal" role="dialog" aria-modal="true" aria-labelledby="modal-title" tabindex="-1">
        <h4 id="modal-title"></h4>
        <p id="modal-content"></p>
        <button class="modal-close" aria-label="Fermer la modale">&times;</button>
    </div>
    <script>
        // Données des sous-services
        const subServicesData = {
            'etude-solution': [
                {
                    icon: 'fas fa-drafting-compass',
                    title: 'Conception Électrique & Schémas',
                    description: 'Études techniques, conception de panneaux + schémas électriques conformes aux normes industrielles.',
                    details: 'Analyse des besoins, création de schémas détaillés avec logiciels comme AutoCAD, conformité aux normes IEC, et validation avec le client.'
                },
                {
                    icon: 'fas fa-code',
                    title: 'Programmation & Intégration',
                    description: 'Développement de systèmes automatisés (PLC, SCADA, DCS...), logique de contrôle et intégration des équipements de terrain.',
                    details: 'Programmation sur Siemens, Rockwell, ou Schneider, intégration de capteurs et actionneurs, tests de logique de contrôle, et mise en œuvre de protocoles comme Modbus ou OPC.'
                },
                {
                    icon: 'fas fa-chart-line',
                    title: 'Optimisation & Documentation',
                    description: 'Optimisation des performances (PID, logique), dispositions de câbles et élaboration des fiches techniques.',
                    details: 'Ajustement des boucles PID, optimisation des temps de cycle, rédaction de manuels techniques détaillés, et plans de câblage pour une maintenance simplifiée.'
                }
            ],
            'fournitures': [
                {
                    icon: 'fas fa-boxes',
                    title: 'Fourniture de matériel et de logiciels',
                    description: 'Approvisionnement en automates programmables (PLC), logiciels SCADA, et composants industriels conformes aux normes IEC 61131-3.',
                    details: 'Sélection de matériel auprès de fournisseurs certifiés (Siemens, Rockwell), livraison rapide, et compatibilité garantie avec vos systèmes existants.'
                },
                {
                    icon: 'fas fa-charging-station',
                    title: 'Fourniture de panneaux selon les normes',
                    description: 'Livraison de panneaux électriques certifiés pour applications industrielles, respectant les normes de sécurité et de qualité.',
                    details: 'Panneaux assemblés sur mesure, certifiés IP65, avec tests de conformité avant livraison, et documentation complète.'
                },
                {
                    icon: 'fas fa-tachometer-alt',
                    title: 'Fourniture d’instruments de processus',
                    description: 'Capteurs, transmetteurs et actionneurs pour la mesure et le contrôle des processus industriels.',
                    details: 'Fourniture de capteurs de pression, température et débit, transmetteurs 4-20mA, et actionneurs pneumatiques ou électriques.'
                }
            ],
            'installation': [
                {
                    icon: 'fas fa-plug',
                    title: 'Installation & Supervision',
                    description: 'Mise en place, essais et supervision des panneaux, équipements, et câblage selon les normes.',
                    details: 'Installation sur site, supervision des équipes, vérification des connexions, et tests fonctionnels pour garantir une mise en service sans faille.'
                },
                {
                    icon: 'fas fa-robot',
                    title: 'Mise en Service & Programmation',
                    description: 'Programmation de robots, automates et systèmes, avec mise en service sur site ou à distance.',
                    details: 'Configuration des robots industriels, programmation des automates pour des cycles spécifiques, et mise en service avec tests en temps réel.'
                },
                {
                    icon: 'fas fa-shield-alt',
                    title: 'Sécurité & Conformité Électrique',
                    description: 'Calibrage des instruments, intégrité des signaux, sécurité électrique et conformité aux normes industrielles.',
                    details: 'Tests de sécurité électrique, vérification des signaux 4-20mA, conformité aux normes IEC, et rapport de mise en service.'
                }
            ],
            'formation': [
                {
                    icon: 'fas fa-chalkboard-teacher',
                    title: 'Formation de base pour les opérateurs',
                    description: 'Cours pratiques pour les opérateurs sur l’utilisation des automates et interfaces HMI.',
                    details: 'Ateliers pratiques sur l’utilisation des interfaces HMI, gestion des alarmes, et dépannage de base sur automates Siemens ou Schneider.'
                },
                {
                    icon: 'fas fa-graduation-cap',
                    title: 'Formation professionnelle spécialisée',
                    description: 'Programmes avancés pour ingénieurs sur la programmation PLC, SCADA et maintenance.',
                    details: 'Cours approfondis sur la programmation IEC 61131-3, configuration SCADA, et stratégies de maintenance préventive.'
                },
                {
                    icon: 'fas fa-laptop-code',
                    title: 'Formation en ligne / hors ligne',
                    description: 'Formations flexibles en automatisme et instrumentation, disponibles en ligne ou en présentiel.',
                    details: 'Modules interactifs en ligne avec vidéos et quiz, ou sessions en présentiel avec simulations sur matériel réel.'
                }
            ],
            'maintenance': [
                {
                    icon: 'fas fa-wrench',
                    title: 'Maintenance des installations électriques industrielles',
                    description: 'Maintenance préventive et corrective pour assurer la fiabilité des systèmes électriques industriels.',
                    details: 'Inspection régulière des systèmes, diagnostic des pannes, remplacement des composants défectueux, et optimisation de la consommation énergétique.'
                },
                {
                    icon: 'fas fa-tools',
                    title: 'Calibrage de capteurs, transmetteurs et actionneurs',
                    description: 'Calibrage précis des instruments pour garantir des performances optimales dans les processus industriels.',
                    details: 'Calibrage sur site ou en atelier, ajustement des capteurs de pression et température, et vérification des transmetteurs 4-20mA.'
                },
                {
                    icon: 'fas fa-cogs',
                    title: 'Paramétrage d’instruments pour applications industrielles',
                    description: 'Configuration des instruments pour répondre aux exigences spécifiques des applications industrielles.',
                    details: 'Configuration des instruments pour des applications spécifiques comme le contrôle de débit ou la régulation de température, avec tests de performance.'
                }
            ]
        };

        // Navigation dynamique
        window.addEventListener('scroll', () => {
            const header = document.querySelector('header');
            header.classList.toggle('scrolled', window.scrollY > 50);
        });

        // Gestion des sous-menus pour l'accessibilité
        const navItems = document.querySelectorAll('.nav-item');
        navItems.forEach(item => {
            item.addEventListener('mouseenter', () => {
                item.setAttribute('aria-expanded', 'true');
            });
            item.addEventListener('mouseleave', () => {
                item.setAttribute('aria-expanded', 'false');
            });
            item.addEventListener('keydown', (e) => {
                if (e.key === 'Enter' || e.key === ' ') {
                    e.preventDefault();
                    const isExpanded = item.getAttribute('aria-expanded') === 'true';
                    item.setAttribute('aria-expanded', !isExpanded);
                }
            });
        });

        // Onglets services (cartes)
        const serviceCards = document.querySelectorAll('.service-card');
        const dropdownItems = document.querySelectorAll('.dropdown-item');
        const selectedServiceContainer = document.getElementById('selected-service-container');

        function updateServiceDisplay(selectedCard) {
            // Réinitialiser les classes actives
            serviceCards.forEach(c => c.classList.remove('active'));
            dropdownItems.forEach(item => item.classList.remove('active'));

            // Activer la carte sélectionnée
            selectedCard.classList.add('active');

            // Mettre à jour selected-service-container
            selectedServiceContainer.innerHTML = '';
            selectedServiceContainer.classList.add('active');
            const selectedCardClone = selectedCard.cloneNode(true);
            selectedCardClone.classList.add('active');
            selectedCardClone.setAttribute('tabindex', '0');
            selectedCardClone.setAttribute('role', 'button');
            selectedServiceContainer.appendChild(selectedCardClone);

            // Ajouter les sous-services dynamiquement
            const tab = selectedCard.dataset.tab;
            const subServices = subServicesData[tab];
            if (subServices) {
                const contentDiv = document.createElement('div');
                contentDiv.classList.add('services-content', 'active');
                const gridDiv = document.createElement('div');
                gridDiv.classList.add('services-grid');
                subServices.forEach(service => {
                    const serviceDiv = document.createElement('div');
                    serviceDiv.classList.add('service');
                    serviceDiv.setAttribute('role', 'button');
                    serviceDiv.setAttribute('tabindex', '0');
                    serviceDiv.dataset.details = service.details;
                    serviceDiv.innerHTML = `
                        <i class="${service.icon}" aria-hidden="true"></i>
                        <h3>${service.title}</h3>
                        <p>${service.description}</p>
                    `;
                    gridDiv.appendChild(serviceDiv);
                });
                contentDiv.appendChild(gridDiv);
                selectedServiceContainer.appendChild(contentDiv);
            }

            // Activer le lien correspondant dans la barre de navigation
            const activeTab = selectedCard.dataset.tab;
            const correspondingDropdownItem = document.querySelector(`.dropdown-item[data-tab="${activeTab}"]`);
            if (correspondingDropdownItem) {
                correspondingDropdownItem.classList.add('active');
            }

            // Ajouter les écouteurs pour la modale après la création des sous-services
            addModalListeners();

            // Faire défiler automatiquement vers selected-service-container
            document.querySelector('#selected-service-container').scrollIntoView({ behavior: 'smooth' });
        }

        serviceCards.forEach(card => {
            card.addEventListener('click', () => {
                updateServiceDisplay(card);
            });
            card.addEventListener('keydown', (e) => {
                if (e.key === 'Enter' || e.key === ' ') {
                    e.preventDefault();
                    updateServiceDisplay(card);
                }
            });
        });

        // Synchroniser la barre de navigation au clic sur les liens du sous-menu
        dropdownItems.forEach(item => {
            item.addEventListener('click', (e) => {
                e.preventDefault();
                const tab = item.dataset.tab;

                // Trouver la carte correspondante
                const correspondingCard = document.querySelector(`.service-card[data-tab="${tab}"]`);
                if (correspondingCard) {
                    updateServiceDisplay(correspondingCard);

                    // Faire défiler jusqu'à selected-service-container
                    document.querySelector('#selected-service-container').scrollIntoView({ behavior: 'smooth' });
                }
            });
        });

        // Gestion de la modale pour les détails des sous-services
        let lastFocusedElement = null;
        function addModalListeners() {
            const services = document.querySelectorAll('.service');
            const modal = document.getElementById('modal');
            const modalTitle = document.getElementById('modal-title');
            const modalContent = document.getElementById('modal-content');
            const overlay = document.getElementById('overlay');
            const modalClose = document.querySelector('.modal-close');

            services.forEach(service => {
                service.addEventListener('click', () => {
                    openModal(service);
                });
                service.addEventListener('keydown', (e) => {
                    if (e.key === 'Enter' || e.key === ' ') {
                        e.preventDefault();
                        openModal(service);
                    }
                });
            });

            function openModal(service) {
                // Sauvegarder l'élément qui a ouvert la modale
                lastFocusedElement = document.activeElement;

                // Remplir la modale avec les détails
                const title = service.querySelector('h3').textContent;
                const details = service.dataset.details;
                modalTitle.textContent = title;
                modalContent.textContent = details;

                // Afficher la modale et l'overlay
                modal.classList.add('active');
                overlay.classList.add('active');

                // Déplacer le focus sur la modale
                modalClose.focus();
            }

            // Fermer la modale
            function closeModal() {
                modal.classList.remove('active');
                overlay.classList.remove('active');

                // Restaurer le focus sur l'élément qui a ouvert la modale
                if (lastFocusedElement) {
                    lastFocusedElement.focus();
                }
            }

            // Fermer la modale en cliquant sur l'overlay
            overlay.addEventListener('click', closeModal);

            // Fermer la modale avec le bouton de fermeture
            modalClose.addEventListener('click', closeModal);

            // Fermer la modale avec la touche Échap
            modal.addEventListener('keydown', (e) => {
                if (e.key === 'Escape') {
                    closeModal();
                }
            });

            // Piéger le focus dans la modale
            const focusableElements = modal.querySelectorAll('button, [tabindex]:not([tabindex="-1"])');
            const firstFocusableElement = focusableElements[0];
            const lastFocusableElement = focusableElements[focusableElements.length - 1];

            modal.addEventListener('keydown', (e) => {
                if (e.key === 'Tab') {
                    if (e.shiftKey) { // Shift + Tab
                        if (document.activeElement === firstFocusableElement) {
                            e.preventDefault();
                            lastFocusableElement.focus();
                        }
                    } else { // Tab
                        if (document.activeElement === lastFocusableElement) {
                            e.preventDefault();
                            firstFocusableElement.focus();
                        }
                    }
                }
            });
        }

        // Appeler updateServiceDisplay pour l'état initial (Étude et Solution est actif par défaut)
        const initialCard = document.querySelector('.service-card.active');
        updateServiceDisplay(initialCard);
    </script>
</body>
</html>
